<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>문의 내역</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <script defer th:src="@{/js/header.js}"></script>

    <link rel="stylesheet" href="/css/myasks.css" th:href="@{/css/myasks.css}">

    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/faq.css}">
    <script defer th:src="@{/js/faq.js}"></script>
</head>

<body>
    <div sec:authorize="isAnonymous()">
        <div th:replace="~{fragment/header :: bu3_navigation}"></div>
    </div>
    <div sec:authorize="isAuthenticated()">
        <div th:replace="~{fragment/headerJoin :: bu3_navigation_join}"></div>
    </div>

    <div class="qna-header-bg">
        <section class="qna-header">
            <h2>문의 내역</h2>
            <p>마이페이지 > 문의 내역</p>
        </section>
    </div>

    <div class="table-wrap">
        <table class="tbl">
            <thead>
                <tr>
                    <th>번호</th>
                    <th>문의유형</th>
                    <th>제목</th>
                    <th>등록일</th>
                    <th>답변 여부</th>
                </tr>
            </thead>

            <tbody>
                <tr th:each="a, i : ${askList}">
                    <td th:text="${i.count}">1</td>
                    <td th:text="${a.askType}">서비스 이용</td>
                    <td>
                        <a th:href="@{'/ask/detail'(askSeq=${a.askSeq})}" th:text="${a.askTitle}">문의 제목</a>
                    </td>
                    <td th:text="${a.createDate != null ? #temporals.format(a.createDate, 'yyyy-MM-dd') : '-'}">
                        2025-05-26</td>
                    <td>
                        <span class="tag" th:classappend="${a.replyStatus} ? ' tag-done' : ' tag-wait'"
                            th:text="${a.replyStatus} ? '답변 완료' : '대기'">대기</span>
                    </td>
                </tr>

                <!-- 비었을 때 -->
                <tr th:if="${#lists.isEmpty(askList)}">
                    <td colspan="5">문의 내역이 없습니다.</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="back-link-container">
        <a th:href="@{/mypage/main}" class="back-link">← 마이페이지로 돌아가기</a>
    </div>

    <div th:replace="~{/fragment/footer::footer(title='부3갈매기')}"></div>
    <div th:replace="~{fragment/faq :: widget}"></div>
</body>

</html>