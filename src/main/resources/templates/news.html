<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <script defer th:src="@{/js/header.js}"></script>
    <title>부3갈매기 - 뉴스룸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/news.css}">
    <script th:src="@{/js/news.js}" defer></script>
</head>

<body>
    <div sec:authorize="isAnonymous()">
        <div th:replace="~{/fragment/header :: bu3_navigation}"></div>
    </div>
    <div sec:authorize="isAuthenticated()">
        <div th:replace="~{/fragment/headerJoin :: bu3_navigation_join}"></div>
    </div>

    <section id="section_hero" class="hero_section">
        <div class="hero_background">
            <img src="/images/newsImages/top_bg.png" th:src="@{/images/newsImages/top_bg.png}" alt="Port"
                class="hero_bg_image">
            <div class="hero_bg_overlay"></div>
        </div>

        <div class="hero_content">
            <p class="hero_subtitle">For Those Who Move the World</p>
            <h1 class="hero_title">해상과 무역의 흐름,<br>지금 여기서 확인하세요</h1>

            <form class="search_form" th:action="@{/news/main}" method="get">
                <input type="search" class="search_input" name="keyword" placeholder="검색어를 입력하세요" th:value="${keyword}">
                <button type="submit" class="search_button" aria-label="Search">
                    <img th:src="@{/images/newsImages/search_icon.svg}" src="images/newsImages/search_icon.svg"
                        alt="Search Icon">
                </button>
            </form>
        </div>
    </section>

    <section id="section_news" class="news_section">
        <div class="container">
            <div class="news_grid">

                <article class="news_card" th:each="news: ${newsList}">
                    <a th:href="${news.newsUrl}" target="_blank">
                        <img th:src="${news.imgUrl}" class="news_card_image">
                        <div class="news_card_content">
                            <h3 class="news_card_title" th:text="${news.newsTitle}">뉴스 제목</h3>
                            <div class="news_card_meta">
                                <span class="source" th:text="${news.publisher}">출처</span>
                                <span class="date" th:datetime="${news.registerDate}"
                                    th:text="'등록일 ' + ${#temporals.format(news.registerDate, 'yyyy/MM/dd')}">등록일</span>
                            </div>
                        </div>
                    </a>
                </article>
            </div>

            <nav class="pagination" aria-label="Page navigation">
                <ul class="pagination_list" th:if="${newsList.totalPages > 1}">
                    <!-- 이전(◀) -->
                    <li>
                        <a class="page_link_arrow" th:if="${!newsList.first}"
                            th:href="@{/news/main(page=${page-1}, keyword=${keyword})}" aria-label="Previous page">
                            &laquo;
                        </a>
                        <span class="page_link_arrow disabled" th:unless="${!newsList.first}">
                            &laquo;
                        </span>
                    </li>

                    <!-- 번호들 -->
                    <li th:each="i : ${#numbers.sequence(1, newsList.totalPages)}">
                        <a class="page_link" th:href="@{/news/main(page=${i}, keyword=${keyword})}" th:text="${i}"
                            th:classappend="${i == page} ? ' active' : ''"></a>
                    </li>

                    <!-- 다음(▶) -->
                    <li>
                        <a class="page_link_arrow" th:if="${!newsList.last}"
                            th:href="@{/news/main(page=${page+1}, keyword=${keyword})}" aria-label="Next page">
                            <img th:src="@{/images/newsImages/next_arrow.svg}" alt="Next page arrow">
                        </a>
                        <span class="page_link_arrow disabled" th:unless="${!newsList.last}">
                            <img th:src="@{/images/newsImages/next_arrow.svg}" alt="Next page arrow">
                        </span>
                    </li>
                </ul>
            </nav>
        </div>
    </section>

    <div th:replace="~{/fragment/footer::footer(title='부3갈매기')}"></div>
</body>

</html>