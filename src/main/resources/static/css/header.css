/* 초기화 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    padding-top: 80px;
}

a {
    list-style: none;
    color: #000000;
    text-decoration: none;
}

/* 네비게이션 바 전체 외곽. 초기 상태 */
.navbar {
    background-color: #fcfcfd;
    height: 80px;
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    max-width: 1280px;
    margin: 20px auto 0 auto;
    transition: all 0.3s ease;
}

.navbar.expended {
    max-width: 100%;
    margin-top: 0;
    border-radius: 0;
    background-color: #fcfcfd;
    transition: all 0.3s ease;
}

/* 네비게이션 바 내부 컨테이너. 확장된 상태 */
.navbar_container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1280px;
    margin: 0 auto;
    height: 100%;
    padding: 0 30px;
}

.navbar_left {
    display: flex;
    margin-right: 30px;
    align-items: center;
    justify-content: center;
    height: 80px;
    min-width: 150px;
}

.navbar_logo {
    display: flex;
    justify-content: center;
    align-items: center;
}

.navbar_logo>a {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
}

/* 왼쪽 로고 */
.navbar_logo img.ship {
    height: 65px;
    padding: 0;
}

.navbar_logo img.text {
    height: 30px;
}

/* 가운데 메뉴 영역 */
.navbar_menu {
    display: flex;
    flex-grow: 1;
    justify-content: space-around;
    min-width: 450px;
}

/* 각 메뉴 항목 (드롭다운의 위치 기준) */
.nav_item {
    position: relative;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
}

/* 밑줄 효과를 위한 가상 요소 (::after) */
.nav_item::after {
    content: '';
    display: block;
    position: absolute;
    bottom: 0;
    /* `.nav_item`의 아래쪽으로 위치 */
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    /* 초기 너비를 0으로 설정하여 숨김 */
    height: 7px;
    /* 원하는 밑줄 두께 */
    background-color: #013895;
    transition: width 0.3s ease, left 0.3s ease;
}

/* 해당 페이지에 있을 때 밑줄이 유지되도록 할 클래스 */
.nav_item.active::after {
    width: 100%;
    left: 0%;
    transform: translateX(0);
}

/* 호버 시 밑줄 효과 */
.nav_item:hover::after {
    width: var(--underline-width, 0);
    /* 너비를 100%로 늘려 밑줄이 나타나게 함 */
    left: 50%;
    transform: translateX(-50%);
}

/* 각 메뉴 항목 (예: 소개, 예측 서비스 등) */
.nav_link {
    font-weight: bold;
    font-size: clamp(12px, 1.1vw, 20px);
    color: black;
    text-decoration: none;
    padding: 10px;
    transition: color 0.2s ease-in-out;
    display: inline-block;
    line-height: 1.2;
    transition: color 0.3s ease, border-bottom-color 0.3s ease, border-bottom-width 0.3s ease;
    border-bottom: 3px solid transparent;
}

/* hover 시 파란색으로 변경 */
.nav_link:hover {
    color: #013895;
}

/* 현재 페이지일 때 색상 유지 */
.nav_link.active {
    color: #013895;
}

/* 서브메뉴가 있는 항목의 링크도 동일하게 처리 */
.nav_item.has_submenu .nav_link.active {
    color: #013895;
}

/* 서브메뉴 (기본적으로 숨김) */
.submenu_wrapper {
    position: absolute;
    display: none;
    z-index: 1000;
    /* 드롭다운 위치 조정 */
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
}

.submenu_wrapper:hover {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 서브메뉴 드롭다운 박스 */
.submenu {
    background-color: #fcfcfd;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.04);
    padding: 10px 0;
    min-width: 80px;
    width: auto;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    position: relative;
    z-index: 1002;
}

/* 서브메뉴 항목 */
.submenu_item {
    display: block;
    width: 100%;
    text-align: center;
    padding: 8px 4px;
    color: black;
    text-decoration: none;
    font-size: clamp(12px, 1.1vw, 15px);
    transition: background-color 0.2s;
    white-space: nowrap;
}

/* hover 시 서브메뉴 배경색 변경 */
.submenu_item:hover {
    background-color: #f0f0f0;
    width: 100%;
}

/* hover 시 서브메뉴 보여줌 */
.nav_item.has_submenu:hover>.submenu_wrapper {
    display: block;
}

/* 오른쪽 영역 (로그인 + 언어 선택) */
.navbar_right {
    display: flex;
    gap: 7px;
    align-items: center;
    justify-content: center;
    height: 80px;
    min-width: 250px;
}

.login_area.nav_item.has_submenu {
    position: relative;
    height: 30px;
    display: flex;
    /* flexbox 사용 */
    align-items: center;
    justify-content: center;
    width: auto;
    /* 콘텐츠에 맞춰 늘어나도록 함 */
    max-width: 180px;
    min-width: 100px;
}

/* 로그인/회원가입 버튼 */
.login_button,
.join_button,
.navbar_right span {
    text-decoration: none;
    color: #013895;
    font-weight: 700;
}

a.login_button:hover,
a.join_button:hover {
    color: #337ed9;
    font-weight: 700;
}

.login_area:hover .login_button {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

.user_icon {
    width: 14px;
    height: 18px;
}

.user_id {
    font-size: 14px;
    font-weight: 400px;
}

.login_area .submenu_wrapper {
    position: absolute;
    width: 100%;
    left: 50%;
    transform: translateX(-50%);
    top: 100%;
    z-index: 1000;
}

.login_area .submenu {
    background-color: #013895;
    width: 100%;
    padding: 6px;
    box-sizing: border-box;
}

.login_area .submenu_item {
    color: white;
}

.login_area .submenu_item:hover {
    background-color: #337ed9;
}

/* 햄버거 버튼 */
.hamburger_menu {
    width: 30px;
    /* 버튼의 너비 */
    height: 25px;
    /* 버튼의 높이 */
    display: none;
}

.bar {
    width: 100%;
    /* 너비를 부모 요소에 맞춰 100%로 설정 */
    height: 3px;
    /* 각 줄의 높이 */
    background-color: #000000;
    /* 줄의 색상 */
    transition: all 0.3s ease-in-out;
    /* 클릭 시 애니메이션 효과를 위한 트랜지션 */
}

/* 'active' 클래스가 추가되었을 때 첫 번째 bar의 변화 */
.hamburger_menu.active .bar:nth-child(1) {
    transform: translateY(11px) rotate(45deg);
}

/* 'active' 클래스가 추가되었을 때 두 번째 bar를 숨김 */
.hamburger_menu.active .bar:nth-child(2) {
    opacity: 0;
}

/* 'active' 클래스가 추가되었을 때 세 번째 bar의 변화 */
.hamburger_menu.active .bar:nth-child(3) {
    transform: translateY(-11px) rotate(-45deg);
}

.sub_nav {
    position: fixed;
    /* 화면에 고정 */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #fcfcfd;
    transform: translateX(-100%);
    /* 메뉴를 화면 왼쪽 밖으로 숨김 */
    transition: transform 0.3s ease-in-out;
    z-index: 99;
    /* 다른 요소들 위에 보이도록 함 */
    opacity: 0;
    visibility: hidden;
    /* 보이지 않게 숨김 */
}

.sub_nav.active {
    transform: translateX(0);
    /* active 클래스가 추가되면 원래 위치로 이동 */
    opacity: 1;
    visibility: visible;
}

@media screen and (max-width: 1024px) {
    .navbar_menu {
        gap: 30px;
        /* 메뉴 간 간격 줄이기 */
    }

    .navbar_right {
        gap: 15px;
        /* 오른쪽 메뉴 간격 줄이기 */
    }
}

@media screen and (max-width: 768px) {

    /* 햄버거 메뉴를 위한 스타일은 이 아래에 추가합니다. */
    /* (이전 답변에서 제시한 코드) */
    .navbar_menu {
        display: none;
    }

    .navbar_right {
        display: none;
    }

    .hamburger_menu {
        display: flex;
        /* 자식 요소들을 가로로 정렬 */
        flex-direction: column;
        /* 자식 요소들을 세로로 정렬 */
        justify-content: space-between;
        /* 자식 요소들 사이에 균등한 간격 주기 */
        cursor: pointer;
        /* 마우스 커서를 포인터로 변경 */
    }

    .sub_nav {
        display: block;
        /* 또는 flex */
        position: fixed;
        top: 80px;
        left: 0;
        width: 100%;
        height: calc(100% - 80px);
        background-color: #fcfcfd;
    }

    .sub_nav .navbar_menu {
        display: flex;
        flex-direction: column;
        /* 메뉴 항목들을 세로로 정렬 */
        align-items: flex-start;
        /* 왼쪽 정렬 */
        padding: 15px;
        width: 100%;
        gap: 30px;
    }

    .sub_nav .nav_item,
    .sub_nav .nav_link {
        width: 100%;
        /* 너비를 100%로 설정하여 세로 정렬 시 블록처럼 보이게 함 */
        justify-content: flex-start;
        /* 왼쪽 정렬 */
        height: auto;
        /* 높이 자동 조절 */
        font-size: 18px;
    }

    .sub_nav .nav_item::after,
    .sub_nav .nav_item:hover::after,
    .sub_nav .nav_item.active::after {
        display: none;
        /* 모바일 메뉴에서 밑줄 효과 제거 */
    }

    .sub_nav .nav_link:hover {
        background-color: #f0f0f0;
        /* 호버 시 배경색 변경 */
    }

    /* 서브메뉴 스타일 재정의 */
    .sub_nav .submenu_wrapper {
        position: static;
        transform: none;
        display: block;
        padding-left: 30px;
        width: 100%;
        margin-top: 0;
    }

    .sub_nav .has_submenu {
        display: flex;
        flex-direction: column;
    }

    .sub_nav .submenu {
        background-color: transparent;
        box-shadow: none;
        padding: 0;
        align-items: flex-start;
        /* 왼쪽 정렬 */
    }

    .sub_nav .submenu_item {
        text-align: left;
        padding: 4px 0;
        font-size: 15px;
    }
}